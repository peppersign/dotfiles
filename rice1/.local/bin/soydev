#!/bin/sh
#Author: catsploit

#Actual fetch
os() { echo -en $(. /etc/os-release; echo "$NAME") ; }
up() { echo -en $(uptime -p | awk '{ print (NF==5) ? $2 "h " $4 "m" : $2 "m"  }') ; }
res() { echo -en $(xrandr | awk '/*/ {printf $1 " "}') ; }
term() { [[ -z $TERM ]] && echo -n "unknown" || echo -n "$TERM" ; }
shell() { echo -en `ps -p $(ps -h -o ppid -p $$) -o cmd | awk -F '/' '{gsub("CMD",""); printf $3}'`; }
pkges() { echo -en $(pacman -Q | wc -l) ; }
hosts() { echo -en $(cat /etc/hostname) ; }

wm() { 
	wm_id=$(xprop -root _NET_SUPPORTING_WM_CHECK | awk '{printf $5}')
	echo -e "$(xprop -id "$wm_id" _NET_WM_NAME | cut -d '"' -f 2)"
}


#colors
bd="$(tput bold)"
gr="$(tput bold; tput setaf 2)"
wh="$(tput sgr0; tput setaf 7)"
gy="$(tput sgr0; tput setaf 8)"
cy="$(tput bold; tput setaf 6)"
bl="$(tput bold; tput setaf 4)"

#user@host bar
bar="$USER@$(hosts)"
line() { printf -v length "%`echo ${#bar}`s"; echo ${length// /-} ; }

echo ""
echo "$gr⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠤⠒⠈⠉⠉⠉⠉⠒⠀⠀⠤⣀⠀⠀⠀⠀⠀⠀⠀   $bl$bar"
echo "$gr⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⠁⠀⠀⠀⠀⠀⠀⢀⣄⠀⠀⠀⠀⠑⡄⠀⠀⠀⠀⠀   $wh$bd$(line)"
echo "$gr⠀⠀⠀⠀⠀⠀⠀⠀⠰⠿⠿⠿⠣⣶⣿⡏⣶⣿⣿⠷⠶⠆⠀⠀⠘⠀⠀⠀⠀⠀  $cy   os      $gy$(os)"
echo "$gr⠀⠀⠀⠀⠀⠀⠠⠴⡅⠀⠀⠠⢶⣿⣿⣷⡄⣀⡀⡀⠀⠀⠀⠀⠀⡇⠀⠀⠀⠀  $cy   uptime  $gy$(up)"
echo "$gr⠀⣰⡶⣦⠀⠀⠀⡰⠀⠀⠸⠟⢸⣿⣿⣷⡆⠢⣉⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀  $cy   shell   $gy$(shell)"
echo "$gr⠀⢹⣧⣿⣇⠀⠀⡇⠀⢠⣷⣲⣺⣿⣿⣇⠤⣤⣿⣿⠀⢸⠀⣤⣶⠦⠀⠀⠀⠀  $cy   pkges   $gy$(pkges)"
echo "$gr⠀⠀⠙⢿⣿⣦⡀⢇⠀⠸⣿⣿⣿⣿⣿⣿⣿⣿⣿⠇⠀⡜⣾⣿⡃⠇⢀⣤⡀⠀  $cy   wm      $gy$(wm)"
echo "$gr⠀⠀⠀⠀⠙⢿⣿⣮⡆⠀⠙⠿⣿⣿⣾⣿⡿⡿⠋⢀⠞⢀⣿⣿⣿⣿⣿⡟⠁⠀  $cy   term    $gy$(term)"
echo "$gr⠀⠀⠀⠀⠀⠀⠛⢿⠇⣶⣤⣄⢀⣰⣷⣶⣿⠁⡰⢃⣴⣿⡿⢋⠏⠉⠁⠀⠀⠀"
echo "$gr⠀⠀⠀⠀⠀⠀⠀⠠⢾⣿⣿⣿⣞⠿⣿⣿⢿⢸⣷⣌⠛⠋⠀⠘⠀⠀⠀⠀⠀⠀  $gy\"Terry didn't die\""
echo "$gr⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠙⣿⣿⣿⣶⣶⣿⣯⣿⣿⣿⣆⠀⠇⠀⠀⠀⠀⠀⠀"
echo "$gr⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣿⣿⣿⣿⣿⣯⡙⢿⣿⣿⠟⡁⠰⡀⠀⠀⠀⠀⠀"
echo "$gr⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⣿⣿⣿⣿⣿⣿⡟⠈⢩⣥⣾⣷⠐⡌⠙⠃⠀  "
echo ""
